import{e as o,g as m,r as l,j as e,H as p,f as u,I as h}from"./index-Da2ePf2G.js";import{F as f,a as j}from"./Input-Dy304rkR.js";import{c as g,a as v}from"./index.esm-Br8EAM3e.js";import{A as b}from"./Alert-BNuF4SG2.js";import{B as y}from"./BackBtn-CypY0mDM.js";import{F as N}from"./FormControl-BTjv_duV.js";import{L as O}from"./LoadingBtn-D0zaY1Hn.js";import"./react-tooltip.min-B-yG7w3T.js";import"./index-LvzHWtTh.js";import"./index-Chjiymov.js";import"./ClipLoader-BI8tAI14.js";const T=()=>{const c=o(),{resendLoading:n}=m(r=>r.auth),[a,t]=l.useState(!0),[i,s]=l.useState(60);l.useEffect(()=>{let r;return a&&(r=setInterval(()=>{s(x=>x-1)},1e3)),()=>clearInterval(r)},[a]),l.useEffect(()=>{i===0&&(t(!1),s(60))},[i]);const d=()=>{c(p()),t(!0)};return e.jsx("div",{className:"mt-6",children:e.jsxs("div",{className:"flex items-center gap-1 text-sm text-grayText mt-4",children:[e.jsx("span",{children:"Did not get OTP? "}),e.jsx("button",{className:"text-grayText",disabled:a||n,onClick:d,children:n?"Sending...":a?`Resend in ${i} seconds`:"Resend"})]})})},R={otp:""},S=g({otp:v().required("OTP is required")}),w=()=>{const c=o(),n=u(),{loading:a,errors:t}=m(s=>s.auth),i=(s,{resetForm:d})=>{c(h(s==null?void 0:s.otp,n,d))};return e.jsx("div",{className:"bg-dark w-full min-h-screen flex flex-col items-center justify-center text-pure",children:e.jsxs("div",{children:[e.jsx("div",{className:"mb-6",children:e.jsx(y,{label:"Back to login",url:"/auth/login"})}),e.jsxs("div",{className:"bg-stroke p-12 rounded-lg w-full mx-auto ",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("h3",{className:"md:text-3xl text-2xl font-semibold",children:"Verify code"}),e.jsx("p",{className:"sm:text-base text-sm text-grayText",children:"An authentication code has been sent to your email."})]}),e.jsx(f,{initialValues:R,validationSchema:S,onSubmit:i,children:s=>e.jsxs(j,{className:"mt-6 ",children:[(t==null?void 0:t.verifyOtp)&&e.jsx(b,{message:t==null?void 0:t.verifyOtp}),e.jsx("div",{className:" mt-4",children:e.jsx(N,{control:"otp",label:"Enter OTP",name:"otp",formik:s})}),e.jsx("div",{className:"mt-8",children:e.jsx("button",{className:"btn-primary py-2 sm:px-12 px-6",disabled:a||!s.isValid,type:"submit",children:a?e.jsx(O,{}):"Verify"})}),e.jsx("div",{children:e.jsx(T,{})})]})})]})]})})};export{w as default};
