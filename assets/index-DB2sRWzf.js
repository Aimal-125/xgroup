import{r as i,j as s,A as c,k as m,t as p}from"./index-DSEsrcg-.js";import{F as w,a as u}from"./Input-C-qAahBU.js";import{c as x,a as o,d as f}from"./index.esm-CUPn6-XP.js";import{H as h}from"./Heading-BI3kDaw8.js";import{B as j}from"./BackBtn-BA5ve5ZU.js";import{F as t}from"./FormControl-GHTY33Dx.js";import{L as P}from"./LoadingBtn-D4Ooyov9.js";import"./react-tooltip.min-D7Xg-x51.js";import"./index-LvzHWtTh.js";import"./index-Chjiymov.js";import"./ClipLoader-BNNw6Au1.js";const b={currentPassword:"",newPassword:"",confirmPassword:""},y=x({currentPassword:o().min(8,"Password should have at least 8 characters").required("Old password is required"),newPassword:o().min(8,"Password should have at least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Password must include at least one uppercase letter, one lowercase letter, one number, and one special character").required("New password is required"),confirmPassword:o().oneOf([f("newPassword"),null],"Passwords must match").required("Confirm password is required")}),L=()=>{const[d,r]=i.useState(!1),n=async(a,{resetForm:l})=>{try{r(!0);const{data:{data:{message:e}}}=await c.put("/user/update-password",a);l(),m.success(e),r(!1)}catch(e){r(!1),p(e)}};return s.jsxs("div",{className:"",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(h,{title:"Update Password"}),s.jsx(j,{})]}),s.jsx("div",{className:"border border-gray-700 bg-dark rounded-lg mt-6",children:s.jsx(w,{initialValues:b,validationSchema:y,onSubmit:n,children:a=>s.jsxs(u,{className:"mt-2 box-shadow sm:py-8 sm:px-4 py-4 px-3 ",children:[s.jsxs("div",{className:"flex gap-x-4 gap-y-2 sm:flex-row flex-col",children:[s.jsx(t,{label:"Current password",control:"password",placeholder:"Enter your current password",name:"currentPassword",formik:a}),s.jsx(t,{control:"password",label:"New password",placeholder:"Enter New password",name:"newPassword",formik:a})]}),s.jsx("div",{className:"flex gap-6 sm:flex-row flex-col mt-2",children:s.jsx(t,{control:"password",label:"Confirm password",placeholder:"Confirm new password",name:"confirmPassword",formik:a})}),s.jsx("div",{className:"flex justify-end mt-4",children:s.jsx("button",{className:"btn-primary py-3 px-8",type:"submit",disabled:d||!a.isValid,children:d?s.jsx(P,{}):"Update"})})]})})})]})};export{L as default};
